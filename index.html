<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/style.css">
  <title>Page Trop Cool</title>
</head>
<body>
  <canvas id="fireworks" aria-hidden="true"></canvas>

  <header class="hero">
    <p class="hero__badge">Nouveau ‚Ä¢ 2025</p>
    <h1>üöÄ Page Trop Cool</h1>
    <p class="hero__tagline">Animations, feux d‚Äôartifice et mini jeu int√©gr√©s.</p>
    <div class="hero__actions">
      <a class="btn btn--primary" href="#features">D√©couvrir</a>
      <a class="btn btn--ghost" href="#game">Jouer</a>
    </div>
  </header>

  <main>
    <section id="features" class="section cards">
      <h2>Ce qui la rend unique</h2>
      <div class="cards__grid">
        <article class="card">
          <h3>Design dynamique</h3>
          <p>D√©grad√©s n√©on, ombres douces et typographies a√©r√©es donnent du relief.</p>
        </article>
        <article class="card">
          <h3>Animations immersives</h3>
          <p>Feux d‚Äôartifice CSS/JS qui r√©agissent √† chaque clic de souris.</p>
        </article>
        <article class="card">
          <h3>Mini jeu inclus</h3>
          <p>Attrape les com√®tes en moins de 30 secondes et partage ton score.</p>
        </article>
      </div>
    </section>

    <section class="section testimonial">
      <blockquote>
        ‚ÄúDepuis que j‚Äôai cette page, tout le monde veut savoir comment je l‚Äôai faite.‚Äù
      </blockquote>
      <p class="testimonial__author">‚Äî Rafoulab</p>
    </section>

    <section class="section gallery">
      <h2>Mini galerie</h2>
      <div class="gallery__grid">
        <div class="gallery__item">‚ú®</div>
        <div class="gallery__item">üî•</div>
        <div class="gallery__item">üí°</div>
      </div>
    </section>

    <section id="game" class="section game">
      <div class="game__info">
        <h2>Mini jeu : Attrape la com√®te</h2>
        <p>Cliquer sur la com√®te rose pour gagner des points avant la fin du chrono.</p>
        <div class="game__stats">
          <span>Score : <strong data-score>0</strong></span>
          <span>Temps : <strong data-timer>30</strong>s</span>
        </div>
        <button class="btn btn--primary" type="button" data-start>Lancer la partie</button>
      </div>
      <div class="game__arena">
        <div class="game__orb" title="attrape-moi"></div>
      </div>
    </section>

    <section id="newsletter" class="section newsletter">
      <h2>Ne rate rien</h2>
      <p>Inscris-toi pour recevoir des inspirations web ultra styl√©es.</p>
      <form class="newsletter__form">
        <input type="email" placeholder="ton@email.com" required>
        <button type="submit">Je veux √™tre inspir√©</button>
      </form>
    </section>
  </main>

  <footer class="footer">
    <p>¬© 2025 Page Trop Cool ‚Äî Cr√©√©e avec ‚ù§Ô∏è par toi.</p>
  </footer>

  <script>
    // ---- Fireworks canvas ----
    const canvas = document.getElementById('fireworks');
    const ctx = canvas.getContext('2d');
    let w, h;
    const particles = [];
    function resize() {
      w = canvas.width = window.innerWidth;
      h = canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    function random(min, max) {
      return Math.random() * (max - min) + min;
    }

    class Particle {
      constructor(x, y, color) {
        this.x = x;
        this.y = y;
        this.radius = random(1, 3);
        this.color = color;
        this.velocity = {
          x: random(-4, 4),
          y: random(-4, 4)
        };
        this.alpha = 1;
        this.decay = random(0.01, 0.02);
      }
      draw() {
        ctx.save();
        ctx.globalAlpha = this.alpha;
        ctx.fillStyle = this.color;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
        ctx.fill();
        ctx.restore();
      }
      update() {
        this.x += this.velocity.x;
        this.y += this.velocity.y;
        this.alpha -= this.decay;
      }
    }

    function createFirework(x = random(0, w), y = random(0, h / 2)) {
      const colors = ['#f5317f', '#6a5af9', '#ffdd57', '#67f1ff'];
      const color = colors[Math.floor(Math.random() * colors.length)];
      const count = 60;
      for (let i = 0; i < count; i++) {
        particles.push(new Particle(x, y, color));
      }
    }

    canvas.addEventListener('click', (e) => {
      const rect = canvas.getBoundingClientRect();
      createFirework(e.clientX - rect.left, e.clientY - rect.top);
    });

    function animate() {
      requestAnimationFrame(animate);
      ctx.fillStyle = 'rgba(8, 6, 26, 0.3)';
      ctx.fillRect(0, 0, w, h);
      particles.forEach((particle, index) => {
        if (particle.alpha <= 0) {
          particles.splice(index, 1);
          return;
        }
        particle.update();
        particle.draw();
      });
      if (particles.length < 100) {
        createFirework();
      }
    }
    animate();

    // ---- Mini game ----
    const startBtn = document.querySelector('[data-start]');
    const scoreEl = document.querySelector('[data-score]');
    const timerEl = document.querySelector('[data-timer]');
    const orb = document.querySelector('.game__orb');
    const arena = document.querySelector('.game__arena');

    let score = 0;
    let playing = false;
    let timer = 30;
    let countdown;

    function moveOrb() {
      const padding = 20;
      const { width, height } = arena.getBoundingClientRect();
      const x = random(padding, width - padding - 60);
      const y = random(padding, height - padding - 60);
      orb.style.transform = `translate(${x}px, ${y}px)`;
    }

    function startGame() {
      if (playing) return;
      playing = true;
      score = 0;
      timer = 30;
      scoreEl.textContent = score;
      timerEl.textContent = timer;
      startBtn.textContent = 'Bonne chance !';
      moveOrb();
      orb.classList.add('game__orb--active');
      countdown = setInterval(() => {
        timer--;
        timerEl.textContent = timer;
        if (timer <= 0) endGame();
      }, 1000);
    }

    function endGame() {
      playing = false;
      clearInterval(countdown);
      orb.classList.remove('game__orb--active');
      startBtn.textContent = 'Rejouer';
      timerEl.textContent = 0;
      alert(`Termin√© ! Ton score : ${score}`);
    }

    startBtn.addEventListener('click', startGame);

    orb.addEventListener('click', () => {
      if (!playing) return;
      score++;
      scoreEl.textContent = score;
      moveOrb();
    });
  </script>
</body>
</html>